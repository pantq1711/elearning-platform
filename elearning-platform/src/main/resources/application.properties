# ===================================================================
# SPRING BOOT APPLICATION PROPERTIES - H? TH?NG QU?N L? KH?A H?C
# ===================================================================

# ===================================================================
# SERVER CONFIGURATION
# ===================================================================
server.port=8080
server.servlet.context-path=/
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.enabled=true
server.servlet.encoding.force=true

# ===================================================================
# DATABASE CONFIGURATION - MYSQL
# ===================================================================
spring.datasource.url=jdbc:mysql://localhost:3306/course_management?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&allowPublicKeyRetrieval=true&useUnicode=true&characterEncoding=UTF-8
spring.datasource.username=root
spring.datasource.password=123456

# Connection Pool Configuration (HikariCP - m?c ??nh c?a Spring Boot)
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.max-lifetime=1800000

# ===== JPA/HIBERNATE CONFIGURATION =====
# Hibernate ddl-auto configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# ===== SPRING BOOT CONFIGURATION =====
# Application configuration
spring.application.name=Course Management System

# Profile configuration
spring.profiles.active=development

# ?Ã THÊM: Cho phép circular references ?? s? d?ng @Lazy injection
spring.main.allow-circular-references=true

# ===== THYMELEAF CONFIGURATION =====
# Thymeleaf template engine
spring.thymeleaf.cache=false
spring.thymeleaf.enabled=true
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.mode=HTML

# ===== STATIC RESOURCES =====
# Static resources configuration
spring.web.resources.static-locations=classpath:/static/
spring.mvc.static-path-pattern=/static/**

# ===== FILE UPLOAD CONFIGURATION =====
# File upload settings
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=50MB

# ===== LOGGING CONFIGURATION =====
# Logging level
logging.level.com.coursemanagement=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Logging pattern
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# ===== SECURITY CONFIGURATION =====
# Spring Security configuration
spring.security.user.name=admin
spring.security.user.password=admin123
spring.security.user.roles=ADMIN

# ===== DEVELOPMENT CONFIGURATION =====
# Development specific settings
spring.devtools.restart.enabled=true
spring.devtools.livereload.enabled=true

# H2 Console for development (if needed)
spring.h2.console.enabled=false

# ===== ACTUATOR CONFIGURATION =====
# Spring Boot Actuator endpoints
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized

# ===== INTERNATIONALIZATION =====
# Message sources
spring.messages.basename=messages
spring.messages.encoding=UTF-8

# ===== SESSION CONFIGURATION =====
# Session timeout (30 minutes)
server.servlet.session.timeout=30m
server.servlet.session.cookie.max-age=1800

# ===== EMAIL CONFIGURATION (Optional) =====
# SMTP configuration for sending emails
# spring.mail.host=smtp.gmail.com
# spring.mail.port=587
# spring.mail.username=your-email@gmail.com
# spring.mail.password=your-app-password
# spring.mail.properties.mail.smtp.auth=true
# spring.mail.properties.mail.smtp.starttls.enable=true

# ===== CUSTOM APPLICATION PROPERTIES =====
# Custom properties for the application
app.name=E-Learning Platform
app.version=1.0.0
app.description=H? th?ng qu?n lý khóa h?c tr?c tuy?n

# File storage path
app.file.upload-dir=uploads/
app.file.max-size=10MB

# Default pagination
app.pagination.default-page-size=10
app.pagination.max-page-size=100

# Cache configuration
spring.cache.type=simple

# ===== ERROR HANDLING =====
# Error page configuration
server.error.whitelabel.enabled=false
server.error.path=/error

# ===== JACKSON CONFIGURATION =====
# JSON serialization configuration
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.time-zone=Asia/Ho_Chi_Minh