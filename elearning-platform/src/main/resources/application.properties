# ===============================================
# ? H? TH?NG QU?N LÝ KHÓA H?C - C?U HÌNH
# ===============================================

# =============== SERVER CONFIGURATION ===============
server.port=8080
server.servlet.context-path=/
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.enabled=true
server.servlet.encoding.force=true

# =============== DATABASE CONFIGURATION ===============
# MySQL Database
spring.datasource.url=jdbc:mysql://localhost:3306/course_management?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
spring.datasource.username=root
spring.datasource.password=
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Connection Pool Settings
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.pool-name=CourseManagementPool

# =============== JPA/HIBERNATE CONFIGURATION ===============
# Hibernate Settings
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
spring.jpa.properties.hibernate.jdbc.time_zone=UTC

# JPA Settings
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true

# =============== WEB MVC CONFIGURATION ===============
# JSP Configuration
spring.mvc.view.prefix=/WEB-INF/views/
spring.mvc.view.suffix=.jsp

# Static Resources
spring.web.resources.static-locations=classpath:/static/
spring.web.resources.cache.cachecontrol.max-age=3600
spring.web.resources.chain.strategy.content.enabled=true

# Multipart/File Upload
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# =============== LOGGING CONFIGURATION ===============
# Root Logging Level
logging.level.root=INFO

# Package-specific Logging
logging.level.com.coursemanagement=DEBUG
logging.level.org.springframework.security=INFO
logging.level.org.hibernate.SQL=WARN
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=WARN

# Log File
logging.file.name=logs/course-management.log
logging.logback.rollingpolicy.max-file-size=10MB
logging.logback.rollingpolicy.total-size-cap=100MB

# =============== SECURITY CONFIGURATION ===============
# Session Management
server.servlet.session.timeout=30m
server.servlet.session.cookie.name=COURSE_MGMT_SESSION
server.servlet.session.cookie.secure=false
server.servlet.session.cookie.http-only=true

# Security Headers
server.servlet.session.cookie.same-site=lax

# =============== INTERNATIONALIZATION ===============
# Locale Settings
spring.web.locale=vi_VN
spring.web.locale-resolver=fixed
spring.messages.basename=messages
spring.messages.encoding=UTF-8

# =============== DEVELOPMENT SETTINGS ===============
# DevTools (ch? trong development)
spring.devtools.restart.enabled=true
spring.devtools.livereload.enabled=true

# Thymeleaf (n?u s? d?ng)
spring.thymeleaf.cache=false

# =============== VALIDATION SETTINGS ===============
# Bean Validation
spring.jpa.properties.javax.persistence.validation.mode=auto

# =============== ACTUATOR (MONITORING) ===============
# Management Endpoints
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when_authorized
management.info.env.enabled=true

# Application Info
info.app.name=Course Management System
info.app.description=H? th?ng qu?n lý khóa h?c và ki?m tra tr?c tuy?n
info.app.version=1.0.0
info.app.encoding=UTF-8
info.app.java.version=${java.version}

# =============== CUSTOM APPLICATION SETTINGS ===============
# App Settings
app.name=Course Management System
app.version=1.0.0
app.description=H? th?ng qu?n lý khóa h?c và ki?m tra tr?c tuy?n

# Admin Settings
app.admin.default.username=admin
app.admin.default.password=admin123
app.admin.default.email=admin@coursemanagement.com

# Quiz Settings
app.quiz.default.duration=30
app.quiz.default.max-score=100
app.quiz.default.pass-score=60

# File Upload Settings
app.upload.path=uploads/
app.upload.max-size=10MB

# Email Settings (n?u c?n g?i email)
app.email.enabled=false
app.email.from=noreply@coursemanagement.com
app.email.smtp.host=localhost
app.email.smtp.port=587

# Cache Settings
spring.cache.type=simple

# =============== PRODUCTION OVERRIDES ===============
# Ch? áp d?ng khi ch?y production
# spring.profiles.active=production
# spring.jpa.hibernate.ddl-auto=validate
# spring.jpa.show-sql=false
# logging.level.root=WARN
# logging.level.com.coursemanagement=INFO